# 0Ô∏è‚É£ Verify environment
kubectl get nodes
kubectl cluster-info
helm version

# 1Ô∏è‚É£ Create a new Helm chart
helm create my-app
ls my-app
tree my-app  # optional, if 'tree' installed

# 2Ô∏è‚É£ Render default templates without installing
helm template my-release ./my-app

# 3Ô∏è‚É£ Edit values.yaml
vi my-app/values.yaml
# Minimal changes example:
# replicaCount: 2
# image:
#   repository: nginx
#   tag: "1.25"

# 4Ô∏è‚É£ Inspect deployment template
vi my-app/templates/deployment.yaml
# Look for .Values.replicaCount, .Values.image.repository, .Release.Name

# 5Ô∏è‚É£ Render templates after values change
helm template my-release ./my-app

# 6Ô∏è‚É£ Install the Helm chart
helm install my-release ./my-app
helm list
kubectl get all

# 7Ô∏è‚É£ Inspect created resources
kubectl get deployments
kubectl get pods
kubectl get services
kubectl describe deployment my-release-my-app  # optional

# 8Ô∏è‚É£ Upgrade the release (change replicas)
helm upgrade my-release ./my-app --set replicaCount=3
kubectl get deployment

# 9Ô∏è‚É£ Check release history
helm history my-release

# üîü Rollback to previous version
helm rollback my-release 1
kubectl get deployment

# 1Ô∏è‚É£1Ô∏è‚É£ Introduce a values file (environment style)
cat <<EOF > values-prod.yaml
replicaCount: 4
image:
  repository: nginx
  tag: "1.25"
EOF

helm upgrade my-release ./my-app -f values-prod.yaml

# 1Ô∏è‚É£2Ô∏è‚É£ Debug Helm without touching cluster
helm template my-release ./my-app

# 1Ô∏è‚É£3Ô∏è‚É£ Uninstall the release
helm uninstall my-release
helm list
kubectl get all

# 1Ô∏è‚É£4Ô∏è‚É£ Cleanup chart directory
rm -rf my-app values-prod.yaml



helm upgrade --install yariv-release ./my-service/ -n dev   --create-namespace  --set cron.schedule="* * * * *" --set replicaCount=2 --set daemonset.resources.requests.cpu=200m

helm upgrade --install yariv-release ./my-service/ -n dev   --create-namespace   -f values-dev.yaml 
